{"ast":null,"code":"import _createClass from \"/home/narek/Desktop/newStrategyGame/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _wrapNativeSuper from \"/home/narek/Desktop/newStrategyGame/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper\";\nimport _inherits from \"/home/narek/Desktop/newStrategyGame/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/narek/Desktop/newStrategyGame/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"/home/narek/Desktop/newStrategyGame/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\n\nvar MilitaryUnit = function MilitaryUnit() {\n  _classCallCheck(this, MilitaryUnit);\n\n  this.id = ++MilitaryUnit.count;\n};\n\nMilitaryUnit.count = 0;\n\nvar PexotaBase = /*#__PURE__*/function (_MilitaryUnit) {\n  _inherits(PexotaBase, _MilitaryUnit);\n\n  var _super = _createSuper(PexotaBase);\n\n  function PexotaBase() {\n    _classCallCheck(this, PexotaBase);\n\n    return _super.apply(this, arguments);\n  }\n\n  return PexotaBase;\n}(MilitaryUnit); // 3\n\n\nvar KavaleriaBase = /*#__PURE__*/function (_MilitaryUnit2) {\n  _inherits(KavaleriaBase, _MilitaryUnit2);\n\n  var _super2 = _createSuper(KavaleriaBase);\n\n  function KavaleriaBase() {\n    _classCallCheck(this, KavaleriaBase);\n\n    return _super2.apply(this, arguments);\n  }\n\n  return KavaleriaBase;\n}(MilitaryUnit); //5\n\n\nvar ArtileriaBase = /*#__PURE__*/function (_MilitaryUnit3) {\n  _inherits(ArtileriaBase, _MilitaryUnit3);\n\n  var _super3 = _createSuper(ArtileriaBase);\n\n  function ArtileriaBase() {\n    _classCallCheck(this, ArtileriaBase);\n\n    return _super3.apply(this, arguments);\n  }\n\n  return ArtileriaBase;\n}(MilitaryUnit); // 2\n\n\nvar NotFareGameException = /*#__PURE__*/function (_Error) {\n  _inherits(NotFareGameException, _Error);\n\n  var _super4 = _createSuper(NotFareGameException);\n\n  function NotFareGameException() {\n    _classCallCheck(this, NotFareGameException);\n\n    return _super4.call(this, \"This game is not fare!!!\");\n  }\n\n  return NotFareGameException;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar GameEngine = /*#__PURE__*/function () {\n  function GameEngine() {\n    _classCallCheck(this, GameEngine);\n\n    this._numberOfPexota = 3;\n    this._numberOfKavaleria = 5;\n    this._numberOfArtileria = 2;\n    this._registeredCountriesNames = [];\n    this._registeredCountriesUnitsFactory = [];\n    this._firstPlayerCountry = \"\";\n    this._secondPlayerCountry = \"\";\n    this.player1Pexotas = [];\n    this.player2Pexotas = [];\n    this.player1Kavalerias = [];\n    this.player2Kavalerias = [];\n    this.player1Artilerias = [];\n    this.player2Artilerias = [];\n  }\n\n  _createClass(GameEngine, [{\n    key: \"registerContry\",\n    value: function registerContry(countryUnitsFactory) {\n      this._registeredCountriesNames.push(countryUnitsFactory.country);\n\n      this._registeredCountriesUnitsFactory.push(countryUnitsFactory);\n    }\n  }, {\n    key: \"getCountries\",\n    value: function getCountries() {\n      return this._registeredCountriesNames;\n    }\n  }, {\n    key: \"setFirstPlayerCountry\",\n    value: function setFirstPlayerCountry(countryName) {\n      this._firstPlayerCountry = countryName;\n    }\n  }, {\n    key: \"setSecondPlayerCountry\",\n    value: function setSecondPlayerCountry(countryName) {\n      this._secondPlayerCountry = countryName;\n    }\n  }, {\n    key: \"_validateGame\",\n    value: function _validateGame() {\n      console.log(player1Pexotas.length, player2Pexotas.length);\n\n      if (!this._firstPlayerCountry) {\n        throw new Error(\"For player1 no country selected\");\n      }\n\n      if (!this._secondPlayerCountry) {\n        throw new Error(\"For player2 no country selected\");\n      }\n\n      if (this.player1Pexotas.length !== this._numberOfPexota) {\n        throw new NotFareGameException();\n      }\n\n      if (this.player2Pexotas.length !== this._numberOfPexota) {\n        throw new NotFareGameException();\n      }\n\n      if (this.player1Kavalerias.length !== this._numberOfKavaleria) {\n        throw new NotFareGameException();\n      }\n\n      if (this.player2Kavalerias.length !== this._numberOfKavaleria) {\n        throw new NotFareGameException();\n      }\n\n      if (this.player1Artilerias.length !== this._numberOfArtileria) {\n        throw new NotFareGameException();\n      }\n\n      if (this.player2Artilerias.length !== this._numberOfArtileria) {\n        throw new NotFareGameException();\n      }\n    }\n  }, {\n    key: \"createUnits\",\n    value: function createUnits(pexotaArray, kavaleriaArray, artileriaArray, unitsFactory) {\n      console.log(pexotaArray, kavaleriaArray, artileriaArray, unitsFactory);\n\n      for (var i = 0; i < this._numberOfPexota; i++) {\n        pexotaArray.push(new unitsFactory.pexota());\n      }\n\n      for (var _i = 0; _i < this._numberOfKavaleria; _i++) {\n        kavaleriaArray.push(new unitsFactory.kavaleria());\n      }\n\n      for (var _i2 = 0; _i2 < this._numberOfArtileria; _i2++) {\n        artileriaArray.push(new unitsFactory.artileria());\n      }\n    }\n  }, {\n    key: \"createInitialUnits\",\n    value: function createInitialUnits() {\n      var player1UnitsFactory = this._registeredCountriesUnitsFactory[0];\n      var player2UnitsFactory = this._registeredCountriesUnitsFactory[1];\n\n      try {\n        this.createUnits(this.player1Pexotas, this.player1Kavalerias, this.player1Artilerias, player1UnitsFactory);\n        this.createUnits(this.player2Pexotas, this.player2Kavalerias, this.player2Artilerias, player2UnitsFactory);\n      } catch (error) {\n        throw new Error(\"!!!createInitialUnits is not implemented!!!\");\n      } // const isPlayer1UnitsFactoryEqualFirstCountry =\n      //   player1UnitsFactory.country === this._firstPlayerCountry;\n      // const isPlayer2UnitsFactoryEqualFirstCountry =\n      //   player2UnitsFactory.country === this._secondPlayerCountry;\n      // try {\n      //   for (let i = 0; i < this._numberOfPexota; i++) {\n      //     if (isPlayer1UnitsFactoryEqualFirstCountry) {\n      //       this.player1Pexotas.push(new player1UnitsFactory.pexota());\n      //     }\n      //     if (isPlayer2UnitsFactoryEqualFirstCountry) {\n      //       this.player2Pexotas.push(new player2UnitsFactory.pexota());\n      //     }\n      //   }\n      //   for (let i = 0; i < this._numberOfKavaleria; i++) {\n      //     if (isPlayer1UnitsFactoryEqualFirstCountry) {\n      //       this.player1Kavalerias.push(new player1UnitsFactory.kavaleria());\n      //     }\n      //     if (isPlayer2UnitsFactoryEqualFirstCountry) {\n      //       this.player2Kavalerias.push(new player2UnitsFactory.kavaleria());\n      //     }\n      //   }\n      //   for (let i = 0; i < this._numberOfArtileria; i++) {\n      //     if (isPlayer1UnitsFactoryEqualFirstCountry) {\n      //       this.player1Artilerias.push(new player1UnitsFactory.artileria());\n      //     }\n      //     if (isPlayer2UnitsFactoryEqualFirstCountry) {\n      //       this.player2Artilerias.push(new player2UnitsFactory.artileria());\n      //     }\n      //   }\n      // } catch (error) {\n      //   throw new Error(\"createInitialUnits is not implemented!!!\");\n      // }\n\n    }\n  }, {\n    key: \"startGame\",\n    value: function startGame() {\n      try {\n        console.log(\"GAME STARTED\");\n        console.log(\"-----------\".concat(this._firstPlayerCountry, \" VS \").concat(this._secondPlayerCountry, \"----------\"));\n        this.createInitialUnits();\n\n        this._validateGame();\n\n        console.log(\"GAME FINISHED\");\n      } catch (error) {\n        console.log(\"GAME FINISHED, because: \", error.message);\n      }\n    }\n  }]);\n\n  return GameEngine;\n}();\n\nvar gameEngine = new GameEngine();\nexport { gameEngine, PexotaBase, KavaleriaBase, ArtileriaBase };","map":{"version":3,"sources":["/home/narek/Desktop/newStrategyGame/src/coreTeam/gameEngine.js"],"names":["MilitaryUnit","id","count","PexotaBase","KavaleriaBase","ArtileriaBase","NotFareGameException","Error","GameEngine","_numberOfPexota","_numberOfKavaleria","_numberOfArtileria","_registeredCountriesNames","_registeredCountriesUnitsFactory","_firstPlayerCountry","_secondPlayerCountry","player1Pexotas","player2Pexotas","player1Kavalerias","player2Kavalerias","player1Artilerias","player2Artilerias","countryUnitsFactory","push","country","countryName","console","log","length","pexotaArray","kavaleriaArray","artileriaArray","unitsFactory","i","pexota","kavaleria","artileria","player1UnitsFactory","player2UnitsFactory","createUnits","error","createInitialUnits","_validateGame","message","gameEngine"],"mappings":"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","sourcesContent":["class MilitaryUnit {\n  static count = 0;\n  constructor() {\n    this.id = ++MilitaryUnit.count;\n  }\n}\n\nclass PexotaBase extends MilitaryUnit {} // 3\n\nclass KavaleriaBase extends MilitaryUnit {} //5\n\nclass ArtileriaBase extends MilitaryUnit {} // 2\n\nclass NotFareGameException extends Error {\n  constructor() {\n    super(\"This game is not fare!!!\");\n  }\n}\n\nclass GameEngine {\n  constructor() {\n    this._numberOfPexota = 3;\n    this._numberOfKavaleria = 5;\n    this._numberOfArtileria = 2;\n\n    this._registeredCountriesNames = [];\n    this._registeredCountriesUnitsFactory = [];\n    this._firstPlayerCountry = \"\";\n    this._secondPlayerCountry = \"\";\n\n    this.player1Pexotas = [];\n    this.player2Pexotas = [];\n\n    this.player1Kavalerias = [];\n    this.player2Kavalerias = [];\n\n    this.player1Artilerias = [];\n    this.player2Artilerias = [];\n  }\n\n  registerContry(countryUnitsFactory) {\n    this._registeredCountriesNames.push(countryUnitsFactory.country);\n    this._registeredCountriesUnitsFactory.push(countryUnitsFactory);\n  }\n\n  getCountries() {\n    return this._registeredCountriesNames;\n  }\n\n  setFirstPlayerCountry(countryName) {\n    this._firstPlayerCountry = countryName;\n  }\n\n  setSecondPlayerCountry(countryName) {\n    this._secondPlayerCountry = countryName;\n  }\n\n  _validateGame() {\n    console.log(player1Pexotas.length, player2Pexotas.length);\n    if (!this._firstPlayerCountry) {\n      throw new Error(\"For player1 no country selected\");\n    }\n\n    if (!this._secondPlayerCountry) {\n      throw new Error(\"For player2 no country selected\");\n    }\n\n    if (this.player1Pexotas.length !== this._numberOfPexota) {\n      throw new NotFareGameException();\n    }\n\n    if (this.player2Pexotas.length !== this._numberOfPexota) {\n      throw new NotFareGameException();\n    }\n\n    if (this.player1Kavalerias.length !== this._numberOfKavaleria) {\n      throw new NotFareGameException();\n    }\n\n    if (this.player2Kavalerias.length !== this._numberOfKavaleria) {\n      throw new NotFareGameException();\n    }\n\n    if (this.player1Artilerias.length !== this._numberOfArtileria) {\n      throw new NotFareGameException();\n    }\n\n    if (this.player2Artilerias.length !== this._numberOfArtileria) {\n      throw new NotFareGameException();\n    }\n  }\n\n  createUnits(pexotaArray, kavaleriaArray, artileriaArray, unitsFactory) {\n    console.log(pexotaArray, kavaleriaArray, artileriaArray, unitsFactory);\n    for (let i = 0; i < this._numberOfPexota; i++) {\n      pexotaArray.push(new unitsFactory.pexota());\n    }\n    for (let i = 0; i < this._numberOfKavaleria; i++) {\n      kavaleriaArray.push(new unitsFactory.kavaleria());\n    }\n    for (let i = 0; i < this._numberOfArtileria; i++) {\n      artileriaArray.push(new unitsFactory.artileria());\n    }\n  }\n\n  createInitialUnits() {\n    const player1UnitsFactory = this._registeredCountriesUnitsFactory[0];\n    const player2UnitsFactory = this._registeredCountriesUnitsFactory[1];\n\n    try {\n      this.createUnits(\n        this.player1Pexotas,\n        this.player1Kavalerias,\n        this.player1Artilerias,\n        player1UnitsFactory\n      );\n\n      this.createUnits(\n        this.player2Pexotas,\n        this.player2Kavalerias,\n        this.player2Artilerias,\n        player2UnitsFactory\n      );\n    } catch (error) {\n      throw new Error(\"!!!createInitialUnits is not implemented!!!\");\n    }\n\n    // const isPlayer1UnitsFactoryEqualFirstCountry =\n    //   player1UnitsFactory.country === this._firstPlayerCountry;\n    // const isPlayer2UnitsFactoryEqualFirstCountry =\n    //   player2UnitsFactory.country === this._secondPlayerCountry;\n    // try {\n    //   for (let i = 0; i < this._numberOfPexota; i++) {\n    //     if (isPlayer1UnitsFactoryEqualFirstCountry) {\n    //       this.player1Pexotas.push(new player1UnitsFactory.pexota());\n    //     }\n    //     if (isPlayer2UnitsFactoryEqualFirstCountry) {\n    //       this.player2Pexotas.push(new player2UnitsFactory.pexota());\n    //     }\n    //   }\n\n    //   for (let i = 0; i < this._numberOfKavaleria; i++) {\n    //     if (isPlayer1UnitsFactoryEqualFirstCountry) {\n    //       this.player1Kavalerias.push(new player1UnitsFactory.kavaleria());\n    //     }\n    //     if (isPlayer2UnitsFactoryEqualFirstCountry) {\n    //       this.player2Kavalerias.push(new player2UnitsFactory.kavaleria());\n    //     }\n    //   }\n\n    //   for (let i = 0; i < this._numberOfArtileria; i++) {\n    //     if (isPlayer1UnitsFactoryEqualFirstCountry) {\n    //       this.player1Artilerias.push(new player1UnitsFactory.artileria());\n    //     }\n    //     if (isPlayer2UnitsFactoryEqualFirstCountry) {\n    //       this.player2Artilerias.push(new player2UnitsFactory.artileria());\n    //     }\n    //   }\n    // } catch (error) {\n    //   throw new Error(\"createInitialUnits is not implemented!!!\");\n    // }\n  }\n\n  startGame() {\n    try {\n      console.log(\"GAME STARTED\");\n      console.log(\n        `-----------${this._firstPlayerCountry} VS ${this._secondPlayerCountry}----------`\n      );\n      this.createInitialUnits();\n      this._validateGame();\n      console.log(\"GAME FINISHED\");\n    } catch (error) {\n      console.log(\"GAME FINISHED, because: \", error.message);\n    }\n  }\n}\n\nconst gameEngine = new GameEngine();\n\nexport { gameEngine, PexotaBase, KavaleriaBase, ArtileriaBase };\n"]},"metadata":{},"sourceType":"module"}